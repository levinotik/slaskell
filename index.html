<!DOCTYPE html>
<html>
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>FPChat</title>

<link href="style.css" rel="stylesheet">
  
</head>
<body>

  <div class="splash">

    <img
      alt="Functional Programming"
      src="https://s3-us-west-2.amazonaws.com/slack-files2/avatars/2015-03-24/4168084590_068356744af6cb3b2678_88.jpg" />

    <p>Join <b>FPChat</b> on Slack</p>

    <form id="form" class="invite" method="post" action="/request-invite">
      <input class="form-item" name="email" type="email" autofocus="true" placeholder="you@yourdomain.com" />
      <input id="submit" class="form-item submit ready" name="submit" type="submit" />
    </form>

    <div style="margin-top: 4rem">
      <p>Already have an account? <a href="https://functionalprogramming.slack.com/">Sign in</a>
    </div>

  </div>

  <script language="javascript" type="text/javascript">

    var form = document.getElementById("form");
    var submit = document.getElementById("submit");

    window.addEventListener("pageshow", () => {
      form.reset();
      submit.disabled = false;
      submit.value = "Let me in!";
      submit.classList.remove("busy");
    });

    form.addEventListener("submit", request_invitation);

    function request_invitation() {
      submit.disabled = true;
      submit.value = "Please wait...";
      submit.classList.add("busy");
    }

  </script>

</body>
</html>
